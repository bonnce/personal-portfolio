---
interface Props {
	title: string;
	body: string;
	href: string;
	img: string;
	alt: string;
}

const { href, title, body, img, alt } = Astro.props;
---

<li class="w-72 h-96 text-green-200 p-5 drop-shadow-blue-neon flex flex-col text-xl card ">

		<div class="w-full flex justify-center p-2 absolute left-0 title uppercase font-bold font-mda">
			
		<h2>
			{title}
		</h2>
	</div>
	<a href={href} class="w-full flex flex-col justify-center h-auto p-2 relative overflow-hidden">
		<img src={img} alt={alt} class="w-full min-h-0 relative"/>
		<p>
			{body}
		</p>
	</a>
</li>
<style>
  :root{
    --dark-blue:#142c48;
    --light-blue:#50c2dd;
    --border-color:#2d6784;
    --transparent-color:#244d67;
    --width:100%;
    --height:100%;
  }
	li {
    background-image: url('assets/img/card-2.svg');
    background-repeat: no-repeat;
    background-size: 100% 100%;
    position: relative;
	}
  .title{
    top:0;
    translate: 0 -25%;
    height: min-content;
    z-index: 1;
  }
  h2{
    width: 55%;
    text-align: center;
    background-image: url('assets/img/titlecard.svg');
    background-repeat: no-repeat;
    background-size: 100% 100%;
    /* color: var(--dark-blue); */
  }
	img{
		object-fit: cover;
    filter: none;
	}
  a{
    /* z-index: -1; */
    clip-path: polygon(23% 0, 100% 0, 100% 79%, 75% 100%, 0 100%, 0 20%);
  }

  .glitch{
    animation: glitch 3s linear infinite;
    position:relative;
  }

  .glitch:before,
  .glitch:after{
    content:"";
    position: absolute;
    left: 0;
    top:0;
    width:var(--width);
    height:var(--height);
    user-select: none;
    pointer-events: none;
    z-index: 2;
  }

  .glitch:before{
    scale: 1.1;
    animation: glitchTop linear 3s infinite, glitchClip 3s linear infinite;
    background-color: #111611;
    opacity: 0.8;
    background-image: radial-gradient( ellipse farthest-corner at 10px 10px , #86efac, #86efac 50%, #111611 50%);
    background-size: 10px 10px;
  }
  .glitch:after{
    scale: 1.15;
    transform: translateX(5%);
    animation: glitchBotom 3s linear infinite, glitchClip2 3s linear infinite;
    background-color: #3b2740;
    opacity: 0.8;
    background: linear-gradient(135deg, #86f0d955 25%, transparent 25%) -10px 0/ 20px 20px, linear-gradient(225deg, #86f0d9 25%, transparent 25%) -10px 0/ 20px 20px, linear-gradient(315deg, #86f0d955 25%, transparent 25%) 0px 0/ 20px 20px, linear-gradient(45deg, #86f0d9 25%, #3b2740 25%) 0px 0/ 20px 20px; 
 }

  
  @keyframes glitch{
    2%,34%{
      transform: translate(2px,0) skew(0deg);
    }
    4%,30%{
      transform: translate(-2px,0) skew(0deg);
    }
    32%{
      transform: translate(0,0) skew(5deg); 
    }
    36%,100%{
      transform: translate(0,0) skew(0deg); 
    }
  }

  @keyframes glitchTop{
    2%,34%{
      transform: translate(2px,-2px);
    }
    4%,30%{
      transform: translate(-2px,2px);
    }
    32%{
      transform: translate(13px,-1px) skew(-13deg); 
    }
    36%,100%{
      transform: translate(0,0) skew(0deg); 
    }
  }
  @keyframes glitchClip{
    0% {
      clip-path: polygon(0 0%, 100% 0%, 100% 5%, 0 5%);
    }
    1% {
      clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);
    }
    2% {
      clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);
    }
    3% {
      clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);
    }
    4% {
      clip-path: polygon(0 35%, 100% 35%, 100% 35%, 0 35%);
    }
    5% {
      clip-path: polygon(0 45%, 100% 45%, 100% 46%, 0 46%);
    }
    6% {
      clip-path: polygon(0 50%, 100% 50%, 100% 70%, 0 70%);
    }
    7% {
      clip-path: polygon(0 70%, 100% 70%, 100% 70%, 0 70%);
    }
    8% {
      clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);
    }
    9% {
      clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%);
    }
    10% {
      clip-path: polygon(0 60%, 100% 60%, 100% 70%, 0 70%);
    }
    11%,100% {
      clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
    }
  }

  @keyframes glitchBotom{
    2%,34%{
      transform: translate(-2px,0);
    }
    4%,30%{
      transform: translate(-2px,0);
    }
    32%{
      transform: translate(-22px,5px) skew(21deg); 
    }
    36%,100%{
      transform: translate(0,0) skew(0deg); 
    }
  }
  @keyframes glitchClip2{
    0% {
      clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%);
    }
    1% {
      clip-path: polygon(0 3%, 100% 3%, 100% 3%, 0 3%);
    }
    2% {
      clip-path: polygon(0 8%, 100% 8%, 100% 20%, 0 20%);
    }
    3% {
      clip-path: polygon(0 20%, 100% 20%, 100% 20%, 0 20%);
    }
    4% {
      clip-path: polygon(0 45%, 100% 45%, 100% 45%, 0 45%);
    }
    5% {
      clip-path: polygon(0 50%, 100% 50%, 100% 57%, 0 57%);
    }
    6% {
      clip-path: polygon(0 60%, 100% 60%, 100% 60%, 0 60%);
    }
    7% {
      clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);
    }
    8% {
      clip-path: polygon(0 40%, 100% 40%, 100% 60%, 0 60%);
    }
    9% {
      clip-path: polygon(0 45%, 100% 45%, 100% 60%, 0 60%);
    }
    10% {
      clip-path: polygon(0 11%, 100% 11%, 100% 15%, 0 15%);
    }
    25% {
      clip-path: polygon(0 11%, 100% 11%, 100% 15%, 0 15%);
    }
    26%, 100% {
      clip-path: polygon(0 0, 0 0, 0 0, 0 0);
    }
  }
</style>

<script>
	// onload = ()=>{

		const card = document.querySelector('li')
		// cards.forEach((card) =>{
		const cardElement = card as HTMLLIElement
		cardElement.onmouseenter =  function mouseEnter(e){
			cardElement.classList.add('glitch', 'layers')
		}
		cardElement.onmouseleave =function mouseLeave(e){
			cardElement.classList.remove('glitch', 'layers')
		}
	// })
	// }
</script>